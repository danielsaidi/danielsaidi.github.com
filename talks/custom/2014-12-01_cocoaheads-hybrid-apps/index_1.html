<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Hybrid Apps - A Case Study</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<style>
			hr {
				margin: 1.2em 0;
				border: none;
			}
		</style>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal" data-transition="linear">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<!--
					<aside class="notes">
						Hit 's' on keyboard to view comments, elapsed time, next slide etc.

						Press <strong>ESC</strong> to enter the slide overview.

						Press b or period on your keyboard to enter the 'paused' mode.
					</aside>
				-->


				<section data-markdown>
					# Hybrid Apps
					### How to alienate your co-workers,
					### steal all cred and die alone
					[Daniel Saidi](http://danielsaidi.com) / [@danielsaidi](http://twitter.com/danielsaidi)
				</section>

				<section>
					<section data-markdown>
						## About me
						### 
						
						Daniel Saidi

						[@danielsaidi](http://twitter.com/danielsaidi)
						
						35 years old, married, two kids

						MSc. Media Technology, Linköpings Universitet

						- - -

						Web Development since 1996

						Mobile Development since 2005

						iOS since 2012
					</section>
					<section data-markdown>
						![eBay](static/ebay.png "eBay")
					</section>
					<section data-markdown>
						![Tradera](static/tradera.png "Tradera")
					</section>
					<section data-markdown>
						![Appamini](static/appamini.png "Appamini")
					</section>
					<section data-markdown>
						![Apps](static/apps.png "Apps")
					</section>
				</section>

				<section>
					<section data-markdown>
						## Agenda
						
						A 1h + workshop talk compressed to 20 minutes

						- - -

						What is a hybrid app?

						Hybrid apps throughout (my) history

						Caste study of the new Tradera hybrid app

						What did we do, why did we and how did it go?

						Demo

						- - -

						Questions, questions, questions!
					</section>
				</section>

				<section>
		   			<h2>2007</h2>
				    <iframe width="420" height="315" src="http://www.youtube.com/embed/8Vq993Td6ys" frameborder="0" allowfullscreen></iframe>
				</section>

				<section>
					<section data-markdown>
		   				## 2014

						![Mobile Platforms](static/platforms.png "Mobile Platforms")
					</section>
					<section data-markdown>
		   				## OK...

						![Mobile Platforms](static/platforms_2.png "Mobile Platforms")
					</section>
					<section data-markdown>
		   				## OK... ;)

						![Mobile Platforms](static/platforms_3.png "Mobile Platforms")
					</section>
					<section data-markdown>
		   				### But given the device fragmentation, it's still pretty damn much!
					</section>
				</section>

				<section>
					<section data-markdown>
						# So...Hybrid Apps?
					</section>
					<section data-markdown>
						## What is a hybrid app?
						### (according to me)

						- - - 

						Installed on the device

						Mixes native and webb

						Native can access / affect web

						Web can access / affect native

						HTML can be shipped as an asset...

						...or consumed from a server
					</section>
					<section data-markdown>
						## What is a hybrid app NOT?
						### (according to me)

						- - - 

						Isolated web pages in a native app

						Web application that runs in a browser

						No interaction between native and web
					</section>
					<section data-markdown>
						## Native apps

						- - - 

						### Pros

						Fast

						Reliable

						Responsive
						
						Ideal...if your budget allows it

						- - - 

						### Cons

						Platform specific *
						
						Developer stack

						Increased complexity

						Platform updates, app releases etc.

						- - - 
						- - - 

						\* Xamarin, Unity etc.
					</section>
					<section data-markdown>
						## Web apps

						- - - 

						### Pros

						Platform independent
						
						Updates on the fly
						
						Easy to develop

						- - - 

						### Cons

						Slow

						Sluggish

						Uncanny valley

						Generally requires an Internet connection
					</section>
					<section data-markdown>
						### Hybrid apps should
						### embrace the good stuff of both
						### and minimize the bad stuff of both
					</section>
				</section>

				<section>
					<section data-markdown>
						## Daniel + Hybrid = ♥

						- - - 

						### 2005

						Windows Mobile - Web fragments injected into native app

						- - - 

						### 2008

						Windows Mobile - Web app with hardware access

						- - - 

						### 2010

						iOS - Web app ↦ Hybrid app ↦ Native app

						- - - 

						### 2014

						iOS - Tradera Labs
					</section>
				</section>

				<section>
					<section data-markdown>
						# Case Study
						## Tradera Labs
					</section>
					<section data-markdown>
						## Background

						I started at Tradera in May 2013

						Tradera's apps were developed by a 3rd party agency

						Dysfunctional feature request and implementation cycle

						Bad reviews in the App Store

						Frequent crashes, bugs, functions missing

						- - - 

						We took over the apps in August 2013

						A team of two developers - one iOS and one Android

						Focus on fixing bugs and add requested functionality
					</section>
					<section data-markdown>
						## However...

						Furious development on tradera.com

						The apps has miles to go to catch up

						The team had to focus on other areas

						So...no app development since December

						- - - 

						Should the apps evolve, or should we replace them?

						Should we have an inhouse team or an external partner?

						Does Tradera even need apps?
					</section>
					<section data-markdown>
						## Did you say hybrid?

						In May, we decided to try this approach

						I was given 6 weeks to develop a hybrid PoC

						As simple as possible

						Ideally, a C# developer should be able to work on it

						Every piece of native must have a strong reason to exist
					</section>
					<section data-markdown>
						## Questions

						Can we just embed the new, responsive web?

						How fast and responsive would it become?

						How stable would it become?

						What will our users think about this approach?
					</section>
					<section data-markdown>
						## Pros

						We have amazing developers - now they can contribute

						We get immediate access to all functionality on the web

						e.g. payments, A/B tests, analytics, synced data, ads etc.

						Build new functions once...use them in every kind of client

						Uniform experience, uniform statistics, improved experiments

						We can still use native stuff like notifications, extensions etc.
					</section>
					<section data-markdown>
						## Cons

						Increased server load 

						Pages will take a lot longer to load

						External resources (ads) could affect the apps

						We get immediate access to all new bugs on the web as well

						We must try out new functionality in even more client types
					</section>
					<section data-markdown>
						## Focus areas

						Ensure loose coupling

						The app must know as little as possible about the web

						The app must be able to have a slower release cycle than the web

						The app and web must be able to scale independently of eachother

						The web must be able to configure the app

						The app must be able to access and affect the DOM

						The web must be able to access and affect the app

						The web must be able to have custom UI for the app
					</section>
				</section>

				<section>
					<section data-markdown>
						# Result
					</section>
					<section data-markdown>
						## How did it go?

						The first release was up on the App Store in 3 weeks

						Many flaws and functions missing

						Major memory problems, frequent crashes

						Minor adjustments during summer

						Continued work during autumn

						The hybrid will replace the native app in... :)
					</section>
					<section data-markdown>
						## How does it work?

						Native navigation bar and side menu

						UIWebView instances

						The app only needs to know a start url

						The app identifies itself with custom headers

						Headers include OS, version, build, device

						The web exposes an app data blob with configuration data

						The web communicates events through url schemes

						The app pushes new pages onto the stack (memory fiddling)

						The web has custom UI when needed
					</section>
					<section data-markdown>
						## Configuration data

						Tells the hybrid app everything it needs to know

						Specifies behaviors and platform specific information

						User id, alias, login status

						JavaScript code that the app can run

						DOM selectors of interest

						Navigation stack cache depth in case of memory warnings

						URL patterns (open in external browser, always reload etc.

						The app should be *configured* more than *developed*
					</section>
					<section data-markdown>
						## The good

						Fast (for a hybrid)

						Responsive (for a hybrid)

						The app data approach works great

						We have a custom domain

						...but for now it points to the web

						Still, we can isolate the two if needed

						Notifications, badges, extensions etc.
					</section>
					<section data-markdown>
						## The bad

						Memory problems, crashes (mostly fixed now)

						Some parts displays the OLD Tradera site

						- - - 

						Organizational challenges

						It has been an experiment all along

						So, web development proceeded as before

						Still, some things developed does not fit the hybrid

						When this happen...should the hybrid or the web change?

						- - -

						...and what about cred? :)

						The hybrid app was an internal success...but who built it?
					</section>
				</section>

				<section>
					<section data-markdown>
						# Demo
					</section>
					<aside class="notes">
						Start app
						Open side menu
						Tap a link
						Show login
						Cart support
						Local notifications
						Custom UI - leave feedback
						App data - open externally
						Extensions
						Developer settings
					</aside>

				</section>

				<section>
					<section data-markdown>
						# Conclusions
					</section>
					<section data-markdown>
						## How to?

						A great site to embed is crucial for a connected hybrid

						Make sure that the hybrid can be isolated on a separate set of servers

						Make sure that the build process can be customized as well

						Make sure that native UI can be used as well, if needed

						Teams must have a good discipline to build stuff that works everywhere

						Recognize and respect the differences of the supported platforms

						You still need app competence - native functionality, app navigation, App Store / Play management, OS updates etc.
					</section>
					<section data-markdown>
						## Why to?

						You get access to a bunch of great developers (if you have any)

						You can reuse already developed functionality

						You only have to write shared functionality once

						You only need to develop strictly native stuff in native code

						The web and the apps can be in perfect sync

						Consistent look, experience, behavior, experiments, measurements etc.
					</section>
					<section data-markdown>
						## Should you?

						It depends :)

						Do your product require a native UI...

						...or would a nice, responsive web site work as well?

						Do your developers have the competence...

						...and do they have the support of the organization...

						...or would you just make them frustrated and treat them unfair?
					</section>
				</section>

				<section>
					<section data-markdown>
						# Questions?
					</section>
				</section>

				<section>
					<section data-markdown>
						![Thank you](static/thankyou.jpg "Thank you")
						
						[Daniel Saidi](http://danielsaidi.com) / [@danielsaidi](http://twitter.com/danielsaidi)
					</section>
				</section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: 'night', // available themes are in /css/theme
				transition: 'linear', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
