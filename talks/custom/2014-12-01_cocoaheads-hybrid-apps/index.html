<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Hybrid Apps - A Case Study</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<style>
			hr {
				margin: 1.2em 0;
				border: none;
			}

			h1 { transform: rotate(2deg); }
			h2 { transform: rotate(-2deg); }
			h2 + p { margin-top: 1.8em !important; }
			h1 + h3 { margin-top:1em !important; transform: rotate(-2deg); }
			h2 + h3 { transform: rotate(1deg); }
			h3 + h3 { transform: rotate(-1deg); }
			h3 + p { margin-top: 1.2em !important; }
		</style>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal" data-transition="linear">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<!--
					<aside class="notes">
						Hit 's' on keyboard to view comments, elapsed time, next slide etc.

						Press <strong>ESC</strong> to enter the slide overview.

						Press b or period on your keyboard to enter the 'paused' mode.
					</aside>
				-->


				<section data-markdown>
					# Hybrid Apps
					### How to alienate your co-workers,
					### steal all cred and die alone
					[Daniel Saidi](http://danielsaidi.com) / [@danielsaidi](http://twitter.com/danielsaidi)
				</section>


				<section>
					<section data-markdown>
						## About me
						
						35 years old, married, two kids

						MSc. Media Technology, Link√∂pings Universitet

						- - -

						System Developer

						- - - 

						Web / Backend

						Mobile since 2005

						iOS since 2012
					</section>
					<section data-markdown data-background="static/ebay.png">
					</section>
					<section data-markdown data-background="static/tradera.png">
					</section>
					<section data-markdown data-background="static/appamini.png">
					</section>
					<section data-markdown>
						![Apps](static/apps.png "Apps")
					</section>
				</section>


				<section>
					<section data-markdown>
						## Agenda

						What is a hybrid app?

						Native vs. web vs. hybrid

						Case study - Tradera

						Demo

						- - -

						Sounds ok?
					</section>
				</section>


				<section data-background="static/ios_bg.jpg">
		   			<h2>In 2007...</h2>
		   			 
		   			<hr />

				    <iframe width="420" height="315" src="http://www.youtube.com/embed/8Vq993Td6ys" frameborder="0" allowfullscreen></iframe>
				</section>

				<section data-background="static/ios_bg.jpg" data-markdown>
					## Then...

					![App Store](static/appstore_money.jpg "App Store")
				</section>


				<section data-background="static/hell.jpg">
					<section data-markdown>
		   				## In 2014...

						![Mobile Platforms](static/platforms.png "Mobile Platforms")
					</section>
					<section data-markdown>
		   				## Well...

						![Mobile Platforms](static/platforms_2.png "Mobile Platforms")
					</section>
					<section data-markdown>
		   				## Well... ;)

						![Mobile Platforms](static/platforms_3.png "Mobile Platforms")
					</section>
					<section data-markdown data-background="#000">
		   				### But given the device fragmentation
		   				##it's still pretty damn much!
					</section>
				</section>


				<section>
					<section data-markdown>
						# so...
						## what about hybrid apps?
					</section>

					<section data-markdown>
						## What is a hybrid app?
						### (according to me)

						- - - 

						Installs on the device

						Mixes native and web

						Native can interact with web

						Web can interact with native

						HTML is embedded or requested

						Possible to mix native UI and HTML UI
					</section>

					<section data-markdown>
						## Native apps

						- - - 

						### Pros

						**Required** for some apps

						Fast, reliable & responsive
						
						Ideal, if your budget allows it

						- - - 

						### Cons

						Platform specific *

						Increased organizational complexity
						
						Development, developers, releases etc.
					</section>

					<section data-markdown>
						## Web apps

						- - - 

						### Pros

						HTML5
						
						Updates on the fly

						Platform independent

						- - - 

						### Cons

						Slow, unresponsive

						Uncanny valley

						Internet connection is (often) a must
					</section>

					<section data-markdown>
						## Native vs. hybrid vs. web

						![Comparison](static/native_hybrid_web.jpg "Comparison")
					</section>

					<section data-markdown>
						## Hybrid apps should
						### embrace the good stuff of both
						### and minimize the bad stuff of both
					</section>
				</section>


				<section>
					<section data-markdown>
						# Case Study
						## Tradera Labs
					</section>

					<section data-markdown>
						## Background

						I joined Tradera in May 2013

						Apps by an external agency

						Slow implementation process
						
						Frequent crashes, bugs, missing features

						Bad reviews on the App Store
					</section>

					<section data-markdown>
						## Enter: A-Team

						Tradera took over the apps in August 2013

						Me on iOS, one on Android, a product owner

						Fix critical bugs, add requested features

						Challenging, but worked quite well

						App Store reviews improved
					</section>

					<section data-markdown>
						## However...

						Intense work on tradera.com

						The apps had miles to go to catch up

						The A-Team had to focus on other stuff

						No app development since December 2013
					</section>

					<section data-markdown>
						## Discussions

						Should the apps evolve...

						...or should we replace them?

						Should we have an inhouse team...

						...or an external partner?

						Should Tradera even have apps?
					</section>
				</section>


				<section>
					<section data-markdown>
						# Wait!
						## What about a hybrid app?
					</section>	

					<section data-markdown>
						## The hybrid experiment

						In May, we decided to give it a try

						I had 6 weeks to build a hybrid PoC

						Wrap the new, responsive web site

						Make the app as simple as possible

						Ideally, a web developer should be able to work on it

						Every line of native code must have a reason to exist
					</section>

					<section data-markdown>
						## Questions to answer

						Can't we just wrap the web site?

						What do we get by wrapping the site in an app?

						What risks are involved with such an approach?

						How much code and complexity will it introduce?

						How fast and responsive can we make a hybrid app?

						How much future work will this approach require?

						- - - 

						**Deliberate tradeoff** - what will our users think?
					</section>

					<section data-markdown>
						## Project focus

						Ensure loose coupling!

						The app must have little knowledge of the web

						The web must be able to fully configure the app

						The web must be able to customize itself for the app

						The app must be able to have a slower release cycle

						The app and web must be able to scale independently
					</section>
				</section>

				<section>
					<section data-markdown>
						# Results 

						## and learnings
					</section>

					<section data-markdown>
						## How did it go?

						First App Store release after 3 weeks

						Tradera Labs - a new app alongside the old

						Many flaws and missing features

						Memory problems, frequent crashes

						- - - 

						Most problems fixed during autumn

						In-app feedback is mostly positive

						App Store reviews are terrible
					</section>

					<section data-markdown>
						## How does it work?

						Native navigation bar and side menu

						Each has a separate web view instance

						The app identifies itself with **custom headers**

						The web attaches **configuration data** to the app

						New web views are pushed to the **navigation stack**

						The web communicates events through **url schemes**
					</section>

					<section data-markdown>
						## Custom headers

						Sent with **each request**, if not config says otherwise

						(Headers must **not** be sent to certain external pages)

						Include **OS, app version, build number** and **device type**

						- - -

						**All the web it needs to know about the app**
					</section>

					<section data-markdown>
						## Configuration data

						Attached as a data blob to **every response**

						Includes **behaviors, scripts, user id, login status** etc.

						Also includes **platform specific info** like **stack cache size**

						- - -

						**All the app needs to know about the web**

						Also configurable properties for native functionality

						The app should be **configured** rather than **developed**
					</section>

					<section data-markdown>
						## Navigation

						Much effort put on the **navigation experience**

						Much effort put on **memory management** as well

						Creating a web view for each new view is expensive

						Configurable stack cache in case of memory warnings

						Return to previously displayed views whenever possible
					</section>

					<section data-markdown>
						## Conclusion
						### The good

						Fast and responsive (for a hybrid)

						The loose coupling works really well

						The configuration data works great

						Notifications, badges, extensions etc.

						- - - 

						People are generally happy with the app...
					</section>
					<section data-markdown>
						## Conclusion
						### The bad

						The navigation stack is **memory intensive**

						**Heap related crashes** are hard to solve

						Some parts **still** displays the **old Tradera site**

						- - - 

						**Organizational challenges**

						When do we prioritize an experiment?

						How involve developers during the experiment?

						And what about cred, problems, bugs, ownership?
					</section>
					<section data-markdown>
						## Conclusion
						### Old app vs. hybrid

						The old app is really simple

						Still, it has a lot of bugs

						Also, it lacks a lot of features

						- - - 

						The hybrid app has a lot of features

						Still, key features are harder to access

						Still...doesn't that concern the web as well?
					</section>
				</section>

				<section>
					<section data-markdown>
						# So...
						## Go or no go?
					</section>

					<section data-markdown>
						![Secret](static/secret.jpg "Secret")
					</section>
				</section>

				<section>
					<section data-markdown>
						# Demo
					</section>
					<aside class="notes">
						Show old app 

						Start app
						Open side menu
						Tap a link
						Show login
						Cart support
						Local notifications
						Custom UI - leave feedback
						App data - open externally
						Extensions
						Developer settings
					</aside>
				</section>

				<section>
					<section data-markdown data-background="">
						#Thanks!

						[Daniel Saidi](http://danielsaidi.com) / [@danielsaidi](http://twitter.com/danielsaidi)
					</section>
					<section data-markdown >
						![Thank you](static/thankyou.jpg "Thank you")
					</section>
				</section>

				<section>
					<section data-markdown>
						# Questions?
					</section>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: 'night', // available themes are in /css/theme
				transition: 'linear', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
